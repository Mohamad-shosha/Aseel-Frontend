<div
  class="dropzone"
  (dragover)="onDragOver($event)"
  (dragleave)="onDragLeave($event)"
  (drop)="onDrop($event)"
  (click)="fileInput.click()"
  [class.border-primary]="isDragOver"
>
  <input
    #fileInput
    type="file"
    class="d-none"
    (change)="onFileChange($event)"
  />

  <div class="text-center dropzone-content">
    <i class="bi bi-cloud-arrow-up-fill fs-1 text-muted mb-3 upload-icon"></i>

    <!-- الرسالة الأساسية -->
    <div class="upload-info" [class.dimmed]="isUploading">
      <h5 class="mb-1 display-5">اسحب الملف هنا أو اضغط لاختياره</h5>
      <p class="upload-meta">يدعم PDF, JPG, PNG, DOCX • الحد الأقصى 10MB</p>
    </div>

<!-- 🔐 حقل كلمة السر --> 
<div class="password-wrapper mt-3">
  <input
    type="password"
    [(ngModel)]="accessPassword"
    placeholder="أدخل كلمة السر للوصول"
    class="password-input small-font"
    (click)="$event.stopPropagation()"
  />
</div>

    <!-- أثناء الرفع -->
    <div *ngIf="selectedFile" class="upload-progress mt-3">
      <div class="upload-file-name fw-bold">{{ fileName }}</div>

      <div *ngIf="isUploading" class="upload-meta mt-1">
        جاري رفع المشروع — {{ progress | number: '1.0-0' }}%
      </div>

      <div class="progress mt-2" style="height: 8px" *ngIf="isUploading">
        <div
          class="progress-bar bg-gradient"
          role="progressbar"
          [style.width]="progress + '%'"
        ></div>
      </div>
    </div>

    <!-- ⚠️ Toast -->
    <div
      *ngIf="errorMessage"
      class="error-toast mt-3 p-3 text-center"
      [innerText]="errorMessage"
    ></div>
  </div>
</div>
